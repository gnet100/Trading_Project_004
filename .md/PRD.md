# Product Requirements Document (PRD)
# פרויקט אפליקציית מסחר - Trading Project 004

## 1. מטרת הפרויקט

פיתוח אפליקציית מסחר מתקדמת הכוללת ניתוח נתוני מסחר, בניית אסטרטגיות מסחר וביצוע מסחר אוטומטי באמצעות חיבור לאינטראקטיב ברוקר (IB).

## 2. יעדי המוצר

### 2.1 יעדים עסקיים
- פיתוח מערכת מסחר אוטומטית מבוססת נתונים
- יכולת ניתוח סטטיסטי מעמיק של נתוני מסחר
- אופטימיזציה של אסטרטגיות מסחר
- הפחתת התלות בהחלטות מסחר ידניות

### 2.2 יעדים טכניים
- חיבור יציב ואמין לאינטראקטיב ברוקר
- מאגר נתונים מקומי עם יכולות חיפוש מהירות
- מערכת בקטטסטינג מדויקת
- ממשק משתמש אינטואיטיבי לניהול האסטרטגיות

## 3. תיאור הפתרון

### 3.1 תמצית המוצר
אפליקציית מסחר המורכבת מארבעה מודולים עיקריים:
1. מודול הורדת נתונים מ-IB
2. מאגר נתונים מקומי עם יכולות ניתוח
3. מערכת בקטטסטינג ואופטימיזציה
4. מערכת ביצוع מסחר אוטומטי

### 3.2 נתוני המסחר
**מקור הנתונים:** אינטראקטיב ברוקר (IB)

**סוגי נתונים:**
- נתוני בר: גבוה, נמוך, פתיחה, סגירה, ווליום
- חותמות זמן: תאריך ושעה מדויקת
- מסגרות זמן מרובות: דקה, 15 דקות, שעה, 4 שעות, יומי

**היקף הנתונים:**
- תקופה: שנתיים לאחור
- הערכת כמות: כ-3 מיליון רשומות
- עדכון: בזמן אמת (בשלבים מתקדמים)

## 4. שלבי הפיתוח

### שלב 1: הקמת תשתית נתונים
- חיבור לממשק IB API
- הורדת נתונים היסטוריים
- הקמת מאגר נתונים מקומי
- מערכת בקרת איכות ואמינות נתונים
- הקמת מערכת Github Backup

### שלב 2: מערכת ניתוח סטטיסטי
- פיתוח כלי ניתוח נתונים
- יצירת דוחות סטטיסטיים
- זיהוי דפוסי מסחר
- ויזואליזציה של נתונים

### שלב 3: בקטטסטינג ואסטרטגיות
- מערכת בקטטסטינג מדויקת
- פיתוח אסטרטגיות מסחר
- בדיקת ביצועים היסטוריים
- הערכת סיכונים ותשואות

### שלב 4: אופטימיזציה וביצוע
- אופטימיזציה של פרמטרים
- מערכת ביצוע מסחר אוטומטי
- ניהול סיכונים
- מעקב ביצועים בזמן אמת

## 5. דרישות טכניות

### 5.1 טכנולוגיות מוצעות
- **שפת תכנות:** Python (ראשי)
- **מאגר נתונים:** SQLite/PostgreSQL
- **חיבור IB:** Interactive Brokers API / TWS API
- **ניתוח נתונים:** pandas, numpy, scipy
- **ויזואליזציה:** matplotlib, plotly

### 5.2 דרישות מערכת
- חיבור אינטרנט יציב
- חשבון אינטראקטיב ברוקר פעיל
- מערכת הפעלה: Windows/Linux/Mac
- זיכרון: מינימום 8GB RAM
- שטח אחסון: 100GB עבור נתוני 2 שנים

### 5.3 דרישות אמינות
- גיבוי אוטומטי של מאגר הנתונים
- בקרת שלמות נתונים
- מערכת התחברות מחדש אוטומטית
- רישום פעולות (logging) מפורט
- מנגנוני התאוששות משגיאות

## 6. אבני דרך ולוח זמנים

### מחזור 1 (4-6 שבועות)
- הקמת חיבור IB
- פיתוח מודול הורדת נתונים
- יצירת מאגר נתונים בסיסי

### מחזור 2 (3-4 שבועות)
- מערכת ניתוח סטטיסטי
- כלי ויזואליזציה
- דוחות ניתוח ראשוניים

### מחזור 3 (4-5 שבועות)
- מערכת בקטטסטינג
- פיתוח אסטרטגיות בסיסיות
- בדיקת ביצועים

### מחזור 4 (3-4 שבועות)
- אופטימיזציה מתקדמת
- מערכת ביצוע אוטומטי
- ניהול סיכונים

## 7. רכיבים טכניים מפורטים

### 7.1 IB Connection Module
- חיבור TWS/Gateway עם טיפול ב-rate limiting ושגיאות
- Historical data requests מבוקרים
- Real-time data capabilities
- מנגנוני התחברות מחדש אוטומטיים

### 7.2 Data Storage System
- רזולוציות זמן מרובות עם validation ו-cleansing
- Schema optimization לביצועים מהירים
- Data integrity checks
- Backup ו-recovery mechanisms

### 7.3 Analysis Engine
- Technical indicators library מקיפה
- Statistical analysis tools מתקדמים
- Pattern recognition algorithms
- Performance metrics calculation

### 7.4 Dashboard System
- Web-based interface אינטואיטיבי
- Real-time data visualization
- Progress monitoring
- User management ו-access control

### 7.5 Github Backup System
- גיבויים אוטומטיים מתוזמנים
- אפשרות גיבוי ידני
- Version control לקוד ונתונים קריטיים
- Recovery procedures מתועדים

## 8. גורמי סיכון מפורטים

### 8.1 סיכונים טכניים
- **IB API limitations:** הגבלות קצב בקשות, תקלות חיבור, שינויי API
- **גודל נתונים:** ביצועי מאגר נתונים, זיכרון מערכת, זמני עיבוד
- **ביצועים:** זמני תגובה איטיים, עומסי CPU גבוהים, bottlenecks

### 8.2 סיכוני נתונים
- **איכות נתונים:** נתונים שגויים מ-IB, corruption במאגר
- **נתונים חסרים:** gaps בנתונים היסטוריים, missing bars
- **שגיאות חישוב:** bugs באלגוריתמים, floating point errors

### 8.3 סיכוני פרויקט
- **Complexity creep:** הוספת features לא מתוכננות
- **Timeline overruns:** עיכובים בפיתוח, underestimation
- **Scope changes:** שינויים בדרישות, feature additions

### 8.4 מגבלות עסקיות
- תלות בשירותי IB
- דרישות רגולטוריות
- עלויות חיבור וטרנזקציות
- מגבלות על תדירות בקשות API

## 9. הערות נוספות

מסמך זה מהווה גרסה ראשונית ויתעדכן במהלך הפיתוח בהתאם למידע נוסף ולדרישות שיתגלו.

---

**נוצר:** 11/09/2025  
**גרסה:** 1.1  
**סטטוס:** טיוטה ראשונית  
**מעודכן אחרון:** 11/09/2025